---
import BaseLayout from '../layouts/BaseLayout.astro';
import Hero from '../components/Hero.astro';
import Section from '../components/Section.astro';

// Network members - this will grow as jurisdictions join
const networkMembers = [
  {
    name: 'California (Coming 2026)',
    subdomain: 'california.commonwealthlabs.io',
    status: 'development',
    description: 'The first Commonwealth Labs deployment, focused on California state propositions and legislation.',
  },
];

const benefits = [
  {
    icon: 'ğŸŒ',
    title: 'Subdomain Hosting',
    description: 'Network members receive a *.commonwealthlabs.io subdomain, providing a recognizable and trusted URL.',
  },
  {
    icon: 'ğŸ”§',
    title: 'Shared Infrastructure',
    description: 'Access to shared services, best practices, and infrastructure guidance from the Commonwealth Labs team.',
  },
  {
    icon: 'ğŸ¤',
    title: 'Community Support',
    description: 'Collaborate with other civic tech organizations, share solutions, and learn from each other.',
  },
  {
    icon: 'â¬†ï¸',
    title: 'Platform Updates',
    description: 'Receive upstream improvements and security patches as the platform evolves.',
  },
  {
    icon: 'ğŸ“¢',
    title: 'Visibility',
    description: 'Get listed in the network directory and benefit from cross-promotion to engaged citizens.',
  },
  {
    icon: 'ğŸ ',
    title: 'Full Independence',
    description: 'Maintain complete control over your data, infrastructure, customizations, and governance decisions.',
  },
];
---

<BaseLayout title="Network" description="The Commonwealth Labs Network is a collaborative ecosystem of civic technology deployments serving different jurisdictions.">
  <Hero
    title="The Commonwealth Labs Network"
    subtitle="A collaborative ecosystem of civic technology deployments, each serving their own jurisdiction while contributing to a shared platform."
  />

  <!-- How It Works -->
  <Section
    title="How the Network Works"
    background="white"
  >
    <div class="max-w-4xl mx-auto">
      <div class="bg-light-bg rounded-xl p-8 mb-8">
        <pre class="text-sm overflow-x-auto text-slate-dark/80 font-mono">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    COMMONWEALTH LABS NETWORK                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   california.   â”‚  â”‚    texas.       â”‚  â”‚   newyork.      â”‚     â”‚
â”‚  â”‚ commonwealthlabsâ”‚  â”‚ commonwealthlabsâ”‚  â”‚ commonwealthlabsâ”‚     â”‚
â”‚  â”‚      .io        â”‚  â”‚      .io        â”‚  â”‚      .io        â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚           â”‚                    â”‚                    â”‚               â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                â”‚                                    â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚                    â”‚   Shared Platform     â”‚                        â”‚
â”‚                    â”‚   (Upstream Repo)     â”‚                        â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        </pre>
      </div>

      <p class="text-lg text-slate-dark/80 text-center max-w-2xl mx-auto">
        Each deployment is independent but connected. Platform improvements flow upstream, benefiting everyone. Jurisdiction-specific code stays in each fork.
      </p>
    </div>
  </Section>

  <!-- Network Benefits -->
  <Section
    title="Network Benefits"
    subtitle="Join a growing community of civic technology deployments."
    background="light"
  >
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-5xl mx-auto">
      {benefits.map(benefit => (
        <div class="bg-white rounded-xl p-6 shadow-sm">
          <div class="text-3xl mb-3">{benefit.icon}</div>
          <h3 class="text-lg font-semibold mb-2">{benefit.title}</h3>
          <p class="text-slate-dark/70 text-sm">{benefit.description}</p>
        </div>
      ))}
    </div>
  </Section>

  <!-- Current Members -->
  <Section
    title="Network Members"
    subtitle="Jurisdictions deploying the Commonwealth Labs platform."
    background="white"
  >
    <div class="max-w-3xl mx-auto">
      {networkMembers.length > 0 ? (
        <div class="space-y-4">
          {networkMembers.map(member => (
            <div class="bg-light-bg rounded-xl p-6 flex items-center justify-between">
              <div>
                <h3 class="text-xl font-semibold mb-1">{member.name}</h3>
                <p class="text-slate-dark/70 text-sm mb-2">{member.description}</p>
                <code class="text-sm bg-white px-2 py-1 rounded text-sage-green">{member.subdomain}</code>
              </div>
              <span class:list={[
                'px-3 py-1 rounded-full text-sm font-medium',
                member.status === 'live' ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'
              ]}>
                {member.status === 'live' ? 'Live' : 'In Development'}
              </span>
            </div>
          ))}
        </div>
      ) : (
        <div class="text-center py-12 bg-light-bg rounded-xl">
          <div class="text-4xl mb-4">ğŸš€</div>
          <h3 class="text-xl font-semibold mb-2">Be the First!</h3>
          <p class="text-slate-dark/70">
            The network is just getting started. Your jurisdiction could be among the first to join.
          </p>
        </div>
      )}

      <div class="text-center mt-8">
        <a
          href="/join"
          class="inline-flex items-center gap-2 bg-sage-green text-white px-8 py-3 rounded-lg hover:bg-sage-green/90 transition-colors font-semibold"
        >
          Join the Network
        </a>
      </div>
    </div>
  </Section>

  <!-- Independence -->
  <Section background="dark">
    <div class="max-w-3xl mx-auto text-center">
      <h2 class="text-3xl font-bold mb-6">Full Independence</h2>
      <p class="text-white/80 text-lg mb-8">
        Joining the network doesn't mean giving up control. Each deployment maintains complete independence.
      </p>
      <div class="grid sm:grid-cols-2 gap-6">
        <div class="bg-white/10 rounded-xl p-6">
          <h3 class="font-semibold mb-2">Your Data</h3>
          <p class="text-white/70 text-sm">All civic data remains under your organization's control, hosted on your infrastructure.</p>
        </div>
        <div class="bg-white/10 rounded-xl p-6">
          <h3 class="font-semibold mb-2">Your Infrastructure</h3>
          <p class="text-white/70 text-sm">Deploy on your own cloud account (AWS, GCP, Azure) with full access and control.</p>
        </div>
        <div class="bg-white/10 rounded-xl p-6">
          <h3 class="font-semibold mb-2">Your Customizations</h3>
          <p class="text-white/70 text-sm">Add jurisdiction-specific features without requiring upstream approval.</p>
        </div>
        <div class="bg-white/10 rounded-xl p-6">
          <h3 class="font-semibold mb-2">Your Governance</h3>
          <p class="text-white/70 text-sm">Make decisions appropriate for your community without network oversight.</p>
        </div>
      </div>
    </div>
  </Section>
</BaseLayout>
