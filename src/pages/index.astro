---
import BaseLayout from '../layouts/BaseLayout.astro';
import Hero from '../components/Hero.astro';
import Section from '../components/Section.astro';
import FeatureCard from '../components/FeatureCard.astro';

const features = [
  {
    title: 'Community-owned',
    description: 'The tools belong to the people who use them. Not a platform you rent—infrastructure you own.',
  },
  {
    title: 'Transparent by design',
    description: 'Every decision visible. Every line of code open. Built to earn trust.',
  },
  {
    title: 'Privacy as a right',
    description: 'Your civic research is no one\'s business. No tracking. No ads. No data harvesting.',
  },
  {
    title: 'Local control',
    description: 'Your community. Your rules. Your data stays where you decide.',
  },
  {
    title: 'Collective strength',
    description: 'Improvements made anywhere benefit everyone. We grow stronger together.',
  },
  {
    title: 'No lock-in',
    description: 'Leave anytime. Take everything with you. The code is yours.',
  },
];

const techStack = [
  { name: 'Next.js', url: 'https://nextjs.org' },
  { name: 'NestJS', url: 'https://nestjs.com' },
  { name: 'GraphQL', url: 'https://graphql.org' },
  { name: 'PostgreSQL', url: 'https://postgresql.org' },
  { name: 'Terraform', url: 'https://terraform.io' },
  { name: 'Ollama', url: 'https://ollama.com' },
  { name: 'Supabase', url: 'https://supabase.com' },
];
---

<BaseLayout title="Built by Citizens. For Citizens.">
  <Hero
    title="Built by citizens. For citizens."
    subtitle="Democracy works when people have the tools to participate. We're building civic technology that communities own, control, and shape—not platforms built by businesses to extract value from public life."
    ctaText="Get Involved"
    ctaHref="/get-involved"
    secondaryCtaText="Why It Matters"
    secondaryCtaHref="/why"
  />

  <Section
    id="features"
    title="Built for communities"
    subtitle="Civic infrastructure that belongs to the people it serves."
  >
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
      {features.map(feature => (
        <FeatureCard {...feature} />
      ))}
    </div>
  </Section>

  <Section
    id="how-it-works"
    title="How it works"
    background="gray"
  >
    <div class="grid md:grid-cols-3 gap-12">
      <div>
        <div class="text-sm font-medium text-slate-dark mb-3">01</div>
        <h3 class="text-lg font-medium mb-2">A community decides to take control</h3>
        <p class="text-slate-dark/80 text-sm">Start with a complete, tested foundation. No building from scratch.</p>
      </div>
      <div>
        <div class="text-sm font-medium text-slate-dark mb-3">02</div>
        <h3 class="text-lg font-medium mb-2">They adapt it to their needs</h3>
        <p class="text-slate-dark/80 text-sm">Customize for your jurisdiction. Your data, your rules, your priorities.</p>
      </div>
      <div>
        <div class="text-sm font-medium text-slate-dark mb-3">03</div>
        <h3 class="text-lg font-medium mb-2">They join a network of communities</h3>
        <p class="text-slate-dark/80 text-sm">Independent but connected. Improvements anywhere benefit everyone.</p>
      </div>
    </div>
  </Section>

  <Section
    id="technology"
    title="Technology"
    subtitle="Built entirely with open-source components."
  >
    <div class="flex flex-wrap gap-3">
      {techStack.map(tech => (
        <a
          href={tech.url}
          target="_blank"
          rel="noopener noreferrer"
          class="text-sm text-slate-dark/80 border border-slate-dark/10 px-4 py-2 rounded-full hover:border-sage hover:text-sage transition-colors"
        >
          {tech.name}
        </a>
      ))}
    </div>
  </Section>

  <Section background="dark">
    <div class="max-w-xl">
      <h2 class="text-2xl font-semibold mb-4 tracking-tight">Ready to build with us?</h2>
      <p class="text-white/70 mb-8">
        Bring citizen-owned civic technology to your community. Join a growing network of people reclaiming democratic infrastructure.
      </p>
      <div class="flex gap-3">
        <a
          href="/get-involved"
          class="inline-flex items-center bg-slate-dark text-white border border-white px-5 py-2.5 rounded-md hover:bg-slate-dark/90 transition-colors text-sm font-medium"
        >
          Get Involved
        </a>
        <a
          href="/why"
          class="inline-flex items-center text-white/80 hover:text-white px-5 py-2.5 text-sm font-medium transition-colors"
        >
          Why It Matters
        </a>
      </div>
    </div>
  </Section>
</BaseLayout>
